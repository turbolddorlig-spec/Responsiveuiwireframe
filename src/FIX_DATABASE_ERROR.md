# üîß DATABASE ERROR FIX - –®–£–£–î –ó–ê–°–í–ê–†

## üö® –ê–ª–¥–∞–∞

```
"Could not find the table 'public.products' in the schema cache"
PGRST205 error
```

‚Üí **–®–∞–ª—Ç–≥–∞–∞–Ω:** Supabase database –¥—ç—ç—Ä tables “Ø“Ø—Å—ç—ç–≥“Ø–π –±–∞–π–Ω–∞!

---

## ‚ö° –®–£–£–†–•–ê–ô –ó–ê–°–í–ê–† (2 –º–∏–Ω—É—Ç)

### –ê–ª—Ö–∞–º 1: Supabase Dashboard –ù—ç—ç—Ö

```
1. https://supabase.com/dashboard –Ω—ç—ç—Ö
2. Project —Å–æ–Ω–≥–æ—Ö
3. SQL Editor tab —Å–æ–Ω–≥–æ—Ö
```

### –ê–ª—Ö–∞–º 2: SQL Script –ê–∂–∏–ª–ª—É—É–ª–∞—Ö

```
1. "New query" —Ç–æ–≤—á –¥–∞—Ä–∞—Ö
2. SUPABASE_RUN_THIS.sql —Ñ–∞–π–ª—ã–≥ –Ω—ç—ç—Ö
3. –ë“Ø—Ö –∞–≥—É—É–ª–≥—ã–≥ COPY —Ö–∏–π—Ö (Ctrl+A ‚Üí Ctrl+C)
4. SQL Editor —Ä—É—É PASTE —Ö–∏–π—Ö (Ctrl+V)
5. "Run" —Ç–æ–≤—á –¥–∞—Ä–∞—Ö ‚ñ∂Ô∏è
```

### –ê–ª—Ö–∞–º 3: “Æ—Ä –î“Ø–Ω –®–∞–ª–≥–∞—Ö

**‚úÖ –ê–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª:**
```
Success. No rows returned.
```

–≠—Å–≤—ç–ª:

```
Rows returned: 0
Execution time: XXXms
```

**‚ùå –ê–ª–¥–∞–∞ –≥–∞—Ä–≤–∞–ª:**
- –ê–ª–¥–∞–∞–Ω—ã —Ç–µ–∫—Å—Ç–∏–π–≥ —É–Ω—à–∞–∞—Ä–∞–π
- Extension-—É—É–¥ –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç–≥–¥—ç—ç–≥“Ø–π –±–∞–π–∂ –±–æ–ª–Ω–æ
- –î–∞—Ö–∏–Ω run —Ö–∏–π–∂ “Ø–∑—ç—ç—Ä—ç–π

---

## üìä –ê–ª—Ö–∞–º 4: Tables “Æ“Ø—Å—Å—ç–Ω –≠—Å—ç—Ö–∏–π–≥ –®–∞–ª–≥–∞—Ö

```
1. Supabase Dashboard
2. Table Editor tab
3. public schema

–•“Ø–ª—ç—ç–≥–¥—ç–∂ –±—É–π tables:
‚úÖ user_profiles
‚úÖ products
‚úÖ orders
‚úÖ driver_leads
‚úÖ stocks
```

**Data —à–∞–ª–≥–∞—Ö:**
```sql
SELECT * FROM products;
-- ‚Üí 10 –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π
```

---

## üöÄ –ê–ª—Ö–∞–º 5: Application Refresh

```
1. Vercel production site –Ω—ç—ç—Ö
2. –•—É—É–¥—Å—ã–≥ –±“Ø—Ä—ç–Ω refresh (Ctrl+Shift+R)
3. Browser DevTools Console –Ω—ç—ç—Ö (F12)
4. –ê–ª–¥–∞–∞ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
```

**–•“Ø–ª—ç—ç–≥–¥—ç–∂ –±—É–π:**
```
‚ùå "Could not find table" –∞–ª–¥–∞–∞ –ë–ê–ô–•–ì“Æ–ô –±–æ–ª–Ω–æ
‚úÖ Demo Mode-–æ–æ—Å –≥–∞—Ä–Ω–∞
‚úÖ "Setup Required" screen —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞ (—Ö—ç—Ä—ç–≤ demo users –±–∞–π—Ö–≥“Ø–π –±–æ–ª)
```

---

## üë§ –ê–ª—Ö–∞–º 6: Demo Users “Æ“Ø—Å–≥—ç—Ö (Optional)

**–•—É–≤–∏–ª–±–∞—Ä A: Automatic (Edge Function)**

```
1. Vercel site –¥—ç—ç—Ä "Setup Demo Users" —Ç–æ–≤—á –¥–∞—Ä–∞—Ö
2. –•—ç–¥—ç–Ω —Å–µ–∫—É–Ω–¥ —Ö“Ø–ª—ç—ç—Ö
3. –ê–º–∂–∏–ª—Ç—Ç–∞–π –≥—ç—Å—ç–Ω –º–µ—Å—Å–µ–∂ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
```

**–•—É–≤–∏–ª–±–∞—Ä B: Manual (SQL)**

```sql
-- Supabase SQL Editor –¥—ç—ç—Ä:

-- NOTE: –≠–Ω—ç –Ω—å –∑”©–≤—Ö”©–Ω —Ç—É—Ä—à–∏–ª—Ç—ã–Ω –∑–æ—Ä–∏–ª–≥–æ—Ç–æ–π!
-- Production –¥—ç—ç—Ä signup API –∞—à–∏–≥–ª–∞—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π!

-- Signup API –∞—à–∏–≥–ª–∞—Ö –∑–∞–∞–≤–∞—Ä:
-- ‚Üí /supabase/functions/setup-demo-users/index.ts —Ñ–∞–π–ª—ã–≥ “Ø–∑–Ω—ç “Ø“Ø
-- ‚Üí Frontend-—ç—ç—Å —Ç—É—Ö–∞–π–Ω Edge Function –¥—É—É–¥–∞—Ö
```

---

## ‚úÖ –ë“Æ–†–≠–ù CHECKLIST

- [ ] Supabase Dashboard ‚Üí SQL Editor –Ω—ç—ç—Å—ç–Ω
- [ ] SUPABASE_RUN_THIS.sql script run —Ö–∏–π—Å—ç–Ω
- [ ] "Success" –≥—ç—Å—ç–Ω –º–µ—Å—Å–µ–∂ —Ö–∞—Ä–∞–≥–¥—Å–∞–Ω
- [ ] Table Editor –¥—ç—ç—Ä 5 table —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π–Ω–∞
- [ ] `SELECT * FROM products;` ‚Üí 10 rows
- [ ] Production site refresh —Ö–∏–π—Å—ç–Ω
- [ ] "Could not find table" –∞–ª–¥–∞–∞ –ë–ê–ô–•–ì“Æ–ô
- [ ] Demo users “Ø“Ø—Å–≥—ç—Å—ç–Ω (optional)
- [ ] Login —Ç—É—Ä—à–∏–∂ “Ø–∑—Å—ç–Ω

---

## üîç TROUBLESHOOTING

### –ê—Å—É—É–¥–∞–ª 1: "Extension does not exist"

```sql
-- Supabase Dashboard ‚Üí Database ‚Üí Extensions
-- uuid-ossp –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
-- pgcrypto –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
```

### –ê—Å—É—É–¥–∞–ª 2: Tables “Ø“Ø—Å—á –±–∞–π–≥–∞–∞ —á data –±–∞–π—Ö–≥“Ø–π

```sql
-- SQL Editor –¥—ç—ç—Ä:
SELECT COUNT(*) FROM products;
-- ‚Üí 10 –≥–∞—Ä–∞—Ö —ë—Å—Ç–æ–π

-- –•—ç—Ä—ç–≤ 0 –±–æ–ª:
-- SUPABASE_RUN_THIS.sql –¥–∞—Ö–∏–Ω run —Ö–∏–π—Ö
-- STEP 7 (SEED DATA) —Ö—ç—Å–≥–∏–π–≥ –¥–∞—Ö–∏–Ω run —Ö–∏–π—Ö
```

### –ê—Å—É—É–¥–∞–ª 3: RLS Policy –∞–ª–¥–∞–∞

```
Error: policy "..." already exists

‚Üí –≠–Ω—ç –Ω—å —Ö—ç–≤–∏–π–Ω. Script-–¥ DROP POLICY IF EXISTS –±–∞–π–≥–∞–∞
‚Üí –î–∞—Ö–∏–Ω run —Ö–∏–π–∂ –±–æ–ª–Ω–æ
```

### –ê—Å—É—É–¥–∞–ª 4: Vercel –¥—ç—ç—Ä Demo Mode-–æ–æ—Å –≥–∞—Ä–∞—Ö–≥“Ø–π –±–∞–π–Ω–∞

```
–®–∞–ª—Ç–≥–∞–∞–Ω:
- Database —Ö–æ–ª–±–æ–ª—Ç —Ç–æ—Ö–∏—Ä—É—É–ª–∞–≥–¥–∞–∞–≥“Ø–π
- Environment variables –±—É—Ä—É—É
- RLS policies —Ö—ç—Ç —Ö–∞—Ç—É—É

–®–∞–ª–≥–∞—Ö:
1. Supabase URL –±–æ–ª–æ–Ω Anon Key –∑”©–≤ —ç—Å—ç—Ö
2. RLS policies “Ø“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö
3. Browser Console –∞–ª–¥–∞–∞ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö
```

### –ê—Å—É—É–¥–∞–ª 5: "Setup Demo Users" —Ç–æ–≤—á –∞–∂–∏–ª–ª–∞—Ö–≥“Ø–π

```
‚Üí Edge function deploy —Ö–∏–π–≥–¥—ç—ç–≥“Ø–π –±–∞–π–∂ –±–æ–ª–Ω–æ
‚Üí Manual signup —Ö–∏–π—Ö:

Vercel –¥—ç—ç—Ä signup form-–æ–æ—Ä:
- Phone: 99000000
- Password: super123
- Name: –°—É–ø–µ—Ä –ê–¥–º–∏–Ω
- Role: super_admin
```

---

## üìã –•–≠–í–ò–ô–ù WORKFLOW

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. SQL Script Run                           ‚îÇ
‚îÇ    ‚Üí Tables “Ø“Ø—Å–≥—ç—Ö                          ‚îÇ
‚îÇ    ‚Üí RLS policies —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö                ‚îÇ
‚îÇ    ‚Üí Seed data –æ—Ä—É—É–ª–∞—Ö                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. Tables Verify                            ‚îÇ
‚îÇ    ‚Üí Table Editor —à–∞–ª–≥–∞—Ö                    ‚îÇ
‚îÇ    ‚Üí Data –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞—Ö     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. Application Refresh                      ‚îÇ
‚îÇ    ‚Üí Production site reload                 ‚îÇ
‚îÇ    ‚Üí Demo Mode –≥–∞—Ä–∞—Ö                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. Demo Users Setup                         ‚îÇ
‚îÇ    ‚Üí Edge function —ç—Å–≤—ç–ª manual signup      ‚îÇ
‚îÇ    ‚Üí 7 demo users “Ø“Ø—Å–≥—ç—Ö                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. Login & Test                             ‚îÇ
‚îÇ    ‚Üí Phone: 99000000                        ‚îÇ
‚îÇ    ‚Üí Password: super123                     ‚îÇ
‚îÇ    ‚Üí –ê–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–≤—Ç—ç—Ä—á, dashboard —Ö–∞—Ä–∞—Ö     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –Ø–ê–ì–ê–ê–î DEMO MODE –ò–î–≠–í–•–ñ–°–≠–ù –í–≠?

```js
// App.tsx –¥—ç—ç—Ä –∞–≤—Ç–æ–º–∞—Ç detection:

useEffect(() => {
  const checkDatabase = async () => {
    try {
      const { data, error } = await supabase
        .from('products')
        .select('*')
        .limit(1);
      
      if (error) {
        // ‚ùå Database —Ö–æ–ª–±–æ–≥–¥–æ—Ö–≥“Ø–π –±–∞–π–Ω–∞
        // ‚Üí –ê–í–¢–û–ú–ê–¢ Demo Mode –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–Ω—ç
        enableDemoMode();
      }
    } catch {
      // ‚ùå Network —ç—Å–≤—ç–ª –±—É—Å–∞–¥ –∞–ª–¥–∞–∞
      // ‚Üí –ê–í–¢–û–ú–ê–¢ Demo Mode –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–Ω—ç
      enableDemoMode();
    }
  };
  
  checkDatabase();
}, []);
```

**“Æ—Ä –¥“Ø–Ω:**
- ‚úÖ Database setup —Ö–∏–π–≥–¥—ç—ç–≥“Ø–π —á —Ç—É—Ä—à–∏–∂ “Ø–∑—ç—Ö –±–æ–ª–æ–º–∂—Ç–æ–π
- ‚úÖ LocalStorage –∞—à–∏–≥–ª–∞–Ω 7 demo users, 10 products
- ‚úÖ Backend-–≥“Ø–π –±“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Ö UI

**Database setup —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞:**
- ‚úÖ Demo Mode –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –∏–¥—ç–≤—Ö–≥“Ø–π –±–æ–ª–Ω–æ
- ‚úÖ Production database –∞—à–∏–≥–ª–∞–≥–¥–∞–Ω–∞
- ‚úÖ –ë–æ–¥–∏—Ç Supabase Auth, RLS, Realtime

---

## üìû –ê–°–£–£–î–ê–õ “Æ–†–ì–≠–õ–ñ–ò–õ–ë–≠–õ

**Screenshot –∞–≤–∞–∞—Ä–∞–π:**
1. SQL Editor run “Ø—Ä –¥“Ø–Ω
2. Table Editor (Tables list)
3. Browser Console (F12)
4. Production site (Demo Mode —ç—Å–≤—ç–ª Setup screen)

**–•–∞–∞–Ω–∞ –∞–ª–¥–∞–∞ –≥–∞—Ä—á –±–∞–π–≥–∞–∞–≥ —Ç–æ–¥–æ—Ä—Ö–æ–π –±–∏—á—ç—ç—Ä—ç–π:**
- SQL run “Ø–µ–¥?
- Tables “Ø“Ø—Å—á –±–∞–π–≥–∞–∞ –±–æ–ª–æ–≤—á data –±–∞–π—Ö–≥“Ø–π?
- Application refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —á Demo Mode-–Ω–æ–æ—Å –≥–∞—Ä–∞—Ö–≥“Ø–π?

‚Üí –ë–∏ –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç—É—Å–∞–ª–Ω–∞!

---

## üöÄ –§–ê–ô–õ–£–£–î

- **SUPABASE_RUN_THIS.sql** - SQL script (—ç–Ω–∏–π–≥ run —Ö–∏–π—Ö!)
- **/supabase/migrations/** - Migration files (reference)
- **/supabase/seed.sql** - Seed data (reference)
- **/supabase/functions/setup-demo-users/** - Edge function

---

**–û–¥–æ–æ SUPABASE_RUN_THIS.sql —Ñ–∞–π–ª—ã–≥ Supabase SQL Editor –¥—ç—ç—Ä run —Ö–∏–π–≥—ç—ç—Ä—ç–π!**

**–ê–º–∂–∏–ª—Ç!** üéâ
